<div class="analytics">
  <div class="analytics-header">
    <h1>
      <lib-icon name="analytics"></lib-icon>
      Analytics
    </h1>
    <p>Track your website performance and user engagement metrics.</p>
  </div>

  <div class="metrics-grid">
    <lib-card class="metric-card" *ngFor="let metric of metrics">
      <div class="metric-content">
        <h3>{{ metric.value }}</h3>
        <p>{{ metric.label }}</p>
        <span 
          class="metric-change"
          [class.positive]="metric.isPositive"
          [class.negative]="!metric.isPositive"
        >
          <lib-icon [name]="metric.isPositive ? 'trending_up' : 'trending_down'"></lib-icon>
          {{ metric.change }}
        </span>
      </div>
    </lib-card>
  </div>

  <div class="analytics-content">
    <lib-card class="chart-section">
      <h2>
        <lib-icon name="show_chart"></lib-icon>
        Traffic Overview
      </h2>
      <div class="chart-container">
        <div class="chart-bars">
          <div 
            class="chart-bar" 
            *ngFor="let data of chartData"
            [style.height.%]="(data.value / 8000) * 100"
          >
            <div class="bar-value">{{ data.value }}</div>
            <div class="bar-label">{{ data.period }}</div>
          </div>
        </div>
      </div>
    </lib-card>

    <lib-card class="top-pages">
      <h2>
        <lib-icon name="web"></lib-icon>
        Top Pages
      </h2>
      <div class="pages-list">
        <div class="page-item" *ngFor="let page of topPages">
          <div class="page-info">
            <span class="page-url">{{ page.page }}</span>
            <span class="page-views">{{ page.views | number }} views</span>
          </div>
          <div class="page-progress">
            <lib-progress 
              [value]="page.percentage"
              [max]="100"
            ></lib-progress>
            <span class="page-percentage">{{ page.percentage }}%</span>
          </div>
        </div>
      </div>
    </lib-card>
  </div>

  <div class="analytics-actions">
    <lib-button variant="primary" class="action-btn">
      <lib-icon name="download"></lib-icon>
      Export Report
    </lib-button>
    <lib-button variant="secondary" class="action-btn">
      <lib-icon name="date_range"></lib-icon>
      Date Range
    </lib-button>
    <lib-button variant="secondary" class="action-btn">
      <lib-icon name="filter_list"></lib-icon>
      Filter Data
    </lib-button>
  </div>
</div>